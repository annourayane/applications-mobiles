{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { TokenContext, UsernameContext } from \"../Context/Context\";\nimport { signUp } from \"../js/sign\";\nimport { styles } from \"../styles/stylesSignUp\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SignUpScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useContext = useContext(UsernameContext),\n    _useContext2 = _slicedToArray(_useContext, 2),\n    setUsername = _useContext2[1];\n  var _useContext3 = useContext(TokenContext),\n    _useContext4 = _slicedToArray(_useContext3, 2),\n    setToken = _useContext4[1];\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    inputUsername = _useState2[0],\n    setInputUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMessage = _useState6[0],\n    setErrorMessage = _useState6[1];\n  var handleSignUp = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var token = yield signUp(inputUsername, password);\n        setUsername(inputUsername);\n        setToken(token);\n        navigation.navigate('SignIn');\n      } catch (error) {\n        setErrorMessage(error.message);\n      }\n    });\n    return function handleSignUp() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(ImageBackground, {\n    source: require(\"../assets/bleu.png\"),\n    style: styles.backgroundImage,\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Sign Up\"\n      }), _jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Username\",\n        value: inputUsername,\n        onChangeText: setInputUsername\n      }), _jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Password\",\n        value: password,\n        onChangeText: setPassword,\n        secureTextEntry: true\n      }), errorMessage ? _jsx(Text, {\n        style: styles.error,\n        children: errorMessage\n      }) : null, _jsx(TouchableOpacity, {\n        style: styles.signUpButton,\n        onPress: handleSignUp,\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"Sign Up\"\n        })\n      })]\n    })\n  });\n}","map":{"version":3,"names":["React","useState","useContext","View","Text","TextInput","Button","TouchableOpacity","StyleSheet","ImageBackground","TokenContext","UsernameContext","signUp","styles","jsx","_jsx","jsxs","_jsxs","SignUpScreen","_ref","navigation","_useContext","_useContext2","_slicedToArray","setUsername","_useContext3","_useContext4","setToken","_useState","_useState2","inputUsername","setInputUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","errorMessage","setErrorMessage","handleSignUp","_ref2","_asyncToGenerator","token","navigate","error","message","apply","arguments","source","require","style","backgroundImage","children","container","title","input","placeholder","value","onChangeText","secureTextEntry","signUpButton","onPress","buttonText"],"sources":["/home/annou231/Documents/Licence 3/github/react/applications-mobiles/react/Screen/SignUpScreen.js"],"sourcesContent":["import React, { useState, useContext } from 'react'; \nimport { View, Text, TextInput, Button, TouchableOpacity, StyleSheet, ImageBackground } from 'react-native';\nimport { TokenContext, UsernameContext } from '../Context/Context'; \nimport { signUp } from '../js/sign'; \nimport { styles } from '../styles/stylesSignUp'; \n\n\nexport default function SignUpScreen({ navigation }) {\n  const [, setUsername] = useContext(UsernameContext); // Utilise le contexte pour le nom d'utilisateur\n  const [, setToken] = useContext(TokenContext); // Utilise le contexte pour le jeton\n\n  const [inputUsername, setInputUsername] = useState(''); // etat pour le nom d'utilisateur\n  const [password, setPassword] = useState(''); // etat pour le mot de passe\n  const [errorMessage, setErrorMessage] = useState(''); // etat pour gerer les messages d'erreur\n\n  // Fonction qui gère l'inscription de l'utilisateur\n  const handleSignUp = async () => {\n    try {\n      const token = await signUp(inputUsername, password); // Appel de la fonction signUp importee\n      setUsername(inputUsername); // mise a jour du le username dans le contexte\n      setToken(token); // mise a jour du context \n\n      // Rediriger vers l'ecran de connexion après l'inscription reussie\n      navigation.navigate('SignIn');\n    } catch (error) {\n      setErrorMessage(error.message); // Affiche un message d'erreur si l'inscription echoue\n    }\n  };\n\n  // Rendu du formulaire d'inscription\n  return (\n    <ImageBackground source={require('../assets/bleu.png')} style={styles.backgroundImage}>\n      <View style={styles.container}>\n        <Text style={styles.title}>Sign Up</Text>\n        <TextInput\n          style={styles.input}\n          placeholder='Username'\n          value={inputUsername}\n          onChangeText={setInputUsername} // mise a jour de  l'etat avec le username saisi\n        />\n        <TextInput\n          style={styles.input}\n          placeholder='Password'\n          value={password}\n          onChangeText={setPassword} //  mise a jour de  l'etat de  l'etat avec le mot de passe saisi\n          secureTextEntry // masquage du mdp\n        />\n        {errorMessage ? <Text style={styles.error}>{errorMessage}</Text> : null}\n\n        <TouchableOpacity style={styles.signUpButton} onPress={handleSignUp}>\n          <Text style={styles.buttonText}>Sign Up</Text>\n        </TouchableOpacity>\n      </View>\n    </ImageBackground>\n  );\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}